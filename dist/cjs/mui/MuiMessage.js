"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AudioMessageButton = AudioMessageButton;
exports.MuiMessage = MuiMessage;

var _core = require("@material-ui/core");

var _react = _interopRequireDefault(require("react"));

function AudioMessageButton(props) {
  if (props.component) {
    return props.component;
  }

  return /*#__PURE__*/_react.default.createElement(_core.Button, {
    style: {
      flex: '1 0 0%',
      display: 'flex',
      flexDirection: 'row',
      border: '0px',
      color: 'rgb(63, 81, 181)',
      margin: '0px 0px 5px 10px',
      height: '20px',
      width: '20px',
      boxShadow: '1px 1px 2px rgba(0,0,0,.3)',
      marginTop: 'auto'
    }
  }, "Sound");
}

function MuiMessage({
  id,
  message,
  showDateTime
}) {
  if (message.deletedAt) {
    return /*#__PURE__*/_react.default.createElement("div", {
      id: id
    });
  }

  const dispDate = message.updatedAt ? message.updatedAt : message.createdAt;
  const component = message.audioButtonComponent;
  const audioButtonProps = {
    component
  };

  const playSoundContent = async () => {
    if (message.audio) {
      const sound = new Audio('data:audio/wav;base64,' + message.audio);
      await sound.play();
    }
  };

  const ChatAvator = /*#__PURE__*/_react.default.createElement(_core.Box, {
    minWidth: 0,
    flexShrink: 0,
    ml: message.self ? 1 : 0,
    mr: message.self ? 0 : 1
  }, /*#__PURE__*/_react.default.createElement(_core.Avatar, {
    alt: message.username,
    src: message.avatar
  }));

  const ChatUsername = /*#__PURE__*/_react.default.createElement(_core.Box, {
    maxWidth: "100%",
    mx: 1
  }, /*#__PURE__*/_react.default.createElement(_core.Typography, {
    variant: "body2",
    align: message.self ? 'right' : 'left'
  }, message.username));

  const ChatDate = /*#__PURE__*/_react.default.createElement(_core.Box, {
    maxWidth: "100%",
    mx: 1
  }, /*#__PURE__*/_react.default.createElement(_core.Typography, {
    variant: "body2",
    align: message.self ? 'right' : 'left',
    color: "textSecondary"
  }, dispDate === null || dispDate === void 0 ? void 0 : dispDate.toLocaleTimeString([], {
    hour: '2-digit',
    minute: '2-digit'
  })));

  return /*#__PURE__*/_react.default.createElement(_core.Grow, {
    in: true
  }, /*#__PURE__*/_react.default.createElement(_core.Box, {
    id: id,
    maxWidth: "100%",
    flex: "0 1 auto",
    my: 1,
    pl: message.self ? '20%' : 0,
    pr: message.self ? 0 : '20%',
    display: "flex",
    justifyContent: message.self ? 'flex-end' : 'flex-start',
    style: {
      overflowWrap: 'break-word'
    }
  }, message.avatar && !message.self && ChatAvator, /*#__PURE__*/_react.default.createElement(_core.Box, {
    minWidth: 0,
    display: "flex",
    flexDirection: "column"
  }, message.username && ChatUsername, /*#__PURE__*/_react.default.createElement(_core.Box, {
    maxWidth: "100%",
    py: 1,
    px: 2,
    bgcolor: message.self ? 'primary.main' : 'background.paper',
    color: message.self ? 'primary.contrastText' : 'text.primary',
    borderRadius: 16,
    boxShadow: 2
  }, message.type === 'text' && /*#__PURE__*/_react.default.createElement(_core.Typography, {
    variant: "body1",
    style: {
      whiteSpace: 'pre-wrap'
    }
  }, message.content), message.type === 'text_audio' && /*#__PURE__*/_react.default.createElement("div", {
    style: {
      flex: '0 1 0%',
      display: 'flex',
      flexDirection: 'row'
    }
  }, /*#__PURE__*/_react.default.createElement(_core.Typography, {
    variant: "body1",
    style: {
      overflowWrap: 'break-word',
      whiteSpace: 'pre-wrap'
    }
  }, message.content), /*#__PURE__*/_react.default.createElement("div", {
    onClick: playSoundContent
  }, /*#__PURE__*/_react.default.createElement(AudioMessageButton, audioButtonProps))), message.type === 'jsx' && /*#__PURE__*/_react.default.createElement("div", null, message.content)), showDateTime && ChatDate), message.avatar && message.self && ChatAvator));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tdWkvTXVpTWVzc2FnZS50c3giXSwibmFtZXMiOlsiQXVkaW9NZXNzYWdlQnV0dG9uIiwicHJvcHMiLCJjb21wb25lbnQiLCJmbGV4IiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJib3JkZXIiLCJjb2xvciIsIm1hcmdpbiIsImhlaWdodCIsIndpZHRoIiwiYm94U2hhZG93IiwibWFyZ2luVG9wIiwiTXVpTWVzc2FnZSIsImlkIiwibWVzc2FnZSIsInNob3dEYXRlVGltZSIsImRlbGV0ZWRBdCIsImRpc3BEYXRlIiwidXBkYXRlZEF0IiwiY3JlYXRlZEF0IiwiYXVkaW9CdXR0b25Db21wb25lbnQiLCJhdWRpb0J1dHRvblByb3BzIiwicGxheVNvdW5kQ29udGVudCIsImF1ZGlvIiwic291bmQiLCJBdWRpbyIsInBsYXkiLCJDaGF0QXZhdG9yIiwic2VsZiIsInVzZXJuYW1lIiwiYXZhdGFyIiwiQ2hhdFVzZXJuYW1lIiwiQ2hhdERhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwib3ZlcmZsb3dXcmFwIiwidHlwZSIsIndoaXRlU3BhY2UiLCJjb250ZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBSU8sU0FBU0Esa0JBQVQsQ0FBNEJDLEtBQTVCLEVBQXFEO0FBQzFELE1BQUlBLEtBQUssQ0FBQ0MsU0FBVixFQUFxQjtBQUNuQixXQUFPRCxLQUFLLENBQUNDLFNBQWI7QUFDRDs7QUFDRCxzQkFBTyw2QkFBQyxZQUFEO0FBQ1AsSUFBQSxLQUFLLEVBQUc7QUFBQ0MsTUFBQUEsSUFBSSxFQUFFLFFBQVA7QUFBaUJDLE1BQUFBLE9BQU8sRUFBRSxNQUExQjtBQUFpQ0MsTUFBQUEsYUFBYSxFQUFFLEtBQWhEO0FBQXVEQyxNQUFBQSxNQUFNLEVBQUUsS0FBL0Q7QUFBc0VDLE1BQUFBLEtBQUssRUFBRSxrQkFBN0U7QUFBaUdDLE1BQUFBLE1BQU0sRUFBRSxrQkFBekc7QUFBNkhD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QUFBa0NDLE1BQUFBLGFBQWEsRUFBRTtBQUFqRDtBQUFaLGtCQUNFLDZCQUFDLGdCQUFEO0FBQ0UsSUFBQSxPQUFPLEVBQUMsT0FEVjtBQUVFLElBQUEsS0FBSyxFQUFFO0FBQUVnQyxNQUFBQSxZQUFZLEVBQUUsWUFBaEI7QUFBOEJFLE1BQUFBLFVBQVUsRUFBRTtBQUExQztBQUZULEtBR0t4QixPQUFPLENBQUN5QixPQUhiLENBREYsZUFNRTtBQUFLLElBQUEsT0FBTyxFQUFFakI7QUFBZCxrQkFDRSw2QkFBQyxrQkFBRCxFQUF3QkQsZ0JBQXhCLENBREYsQ0FORixDQWZKLEVBMEJHUCxPQUFPLENBQUN1QixJQUFSLEtBQWlCLEtBQWpCLGlCQUEwQiwwQ0FBTXZCLE9BQU8sQ0FBQ3lCLE9BQWQsQ0ExQjdCLENBRkYsRUE4Qkd4QixZQUFZLElBQUlpQixRQTlCbkIsQ0FaRixFQTRDR2xCLE9BQU8sQ0FBQ2dCLE1BQVIsSUFBa0JoQixPQUFPLENBQUNjLElBQTFCLElBQWtDRCxVQTVDckMsQ0FERixDQURGO0FBa0REIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXZhdGFyLCBCb3gsIEdyb3csIFR5cG9ncmFwaHksIEJ1dHRvbiB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IE1lc3NhZ2UsIE1lc3NhZ2VDb250ZW50IH0gZnJvbSAnLi4vY2hhdC10eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBBdWRpb01lc3NhZ2VCdXR0b24ocHJvcHM6IGFueSk6IEpTWC5FbGVtZW50IHtcbiAgaWYgKHByb3BzLmNvbXBvbmVudCkge1xuICAgIHJldHVybiBwcm9wcy5jb21wb25lbnQ7XG4gIH1cbiAgcmV0dXJuIDxCdXR0b25cbiAgc3R5bGU9IHt7ZmxleDogJzEgMCAwJScsIGRpc3BsYXk6ICdmbGV4JyxmbGV4RGlyZWN0aW9uOiAncm93JywgYm9yZGVyOiAnMHB4JywgY29sb3I6ICdyZ2IoNjMsIDgxLCAxODEpJywgbWFyZ2luOiAnMHB4IDBweCA1cHggMTBweCcsIGhlaWdodDogJzIwcHgnLCB3aWR0aDogJzIwcHgnLCBib3hTaGFkb3c6ICcxcHggMXB4IDJweCByZ2JhKDAsMCwwLC4zKScsIG1hcmdpblRvcDonYXV0byd9fVxuICA+U291bmQ8L0J1dHRvbj5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE11aU1lc3NhZ2Uoe1xuICBpZCxcbiAgbWVzc2FnZSxcbiAgc2hvd0RhdGVUaW1lLFxufToge1xuICBpZDogc3RyaW5nO1xuICBtZXNzYWdlOiBNZXNzYWdlPE1lc3NhZ2VDb250ZW50PjtcbiAgc2hvd0RhdGVUaW1lOiBib29sZWFuO1xufSk6IFJlYWN0LlJlYWN0RWxlbWVudCB7XG4gIGlmIChtZXNzYWdlLmRlbGV0ZWRBdCkge1xuICAgIHJldHVybiA8ZGl2IGlkPXtpZH0gLz47XG4gIH1cblxuICBjb25zdCBkaXNwRGF0ZSA9IG1lc3NhZ2UudXBkYXRlZEF0ID8gbWVzc2FnZS51cGRhdGVkQXQgOiBtZXNzYWdlLmNyZWF0ZWRBdDtcbiAgY29uc3QgY29tcG9uZW50ID0gbWVzc2FnZS5hdWRpb0J1dHRvbkNvbXBvbmVudDtcbiAgY29uc3QgYXVkaW9CdXR0b25Qcm9wcyA9IHsgY29tcG9uZW50IH07XG5cbiAgY29uc3QgcGxheVNvdW5kQ29udGVudCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAobWVzc2FnZS5hdWRpbykge1xuICAgICAgICBjb25zdCBzb3VuZCA9IG5ldyBBdWRpbygnZGF0YTphdWRpby93YXY7YmFzZTY0LCcgKyBtZXNzYWdlLmF1ZGlvKTtcbiAgICAgICAgYXdhaXQgc291bmQucGxheSgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBDaGF0QXZhdG9yID0gKFxuICAgIDxCb3hcbiAgICAgIG1pbldpZHRoPXswfVxuICAgICAgZmxleFNocmluaz17MH1cbiAgICAgIG1sPXttZXNzYWdlLnNlbGYgPyAxIDogMH1cbiAgICAgIG1yPXttZXNzYWdlLnNlbGYgPyAwIDogMX1cbiAgICA+XG4gICAgICA8QXZhdGFyIGFsdD17bWVzc2FnZS51c2VybmFtZX0gc3JjPXttZXNzYWdlLmF2YXRhcn0gLz5cbiAgICA8L0JveD5cbiAgKTtcblxuICBjb25zdCBDaGF0VXNlcm5hbWUgPSAoXG4gICAgPEJveCBtYXhXaWR0aD1cIjEwMCVcIiBteD17MX0+XG4gICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiYm9keTJcIiBhbGlnbj17bWVzc2FnZS5zZWxmID8gJ3JpZ2h0JyA6ICdsZWZ0J30+XG4gICAgICAgIHttZXNzYWdlLnVzZXJuYW1lfVxuICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgIDwvQm94PlxuICApO1xuXG4gIGNvbnN0IENoYXREYXRlID0gKFxuICAgIDxCb3ggbWF4V2lkdGg9XCIxMDAlXCIgbXg9ezF9PlxuICAgICAgPFR5cG9ncmFwaHlcbiAgICAgICAgdmFyaWFudD1cImJvZHkyXCJcbiAgICAgICAgYWxpZ249e21lc3NhZ2Uuc2VsZiA/ICdyaWdodCcgOiAnbGVmdCd9XG4gICAgICAgIGNvbG9yPVwidGV4dFNlY29uZGFyeVwiXG4gICAgICA+XG4gICAgICAgIHtkaXNwRGF0ZT8udG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7XG4gICAgICAgICAgaG91cjogJzItZGlnaXQnLFxuICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgICAgICB9KX1cbiAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICA8L0JveD5cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxHcm93IGluPlxuICAgICAgPEJveFxuICAgICAgICBpZD17aWR9XG4gICAgICAgIG1heFdpZHRoPVwiMTAwJVwiXG4gICAgICAgIGZsZXg9XCIwIDEgYXV0b1wiXG4gICAgICAgIG15PXsxfVxuICAgICAgICBwbD17bWVzc2FnZS5zZWxmID8gJzIwJScgOiAwfVxuICAgICAgICBwcj17bWVzc2FnZS5zZWxmID8gMCA6ICcyMCUnfVxuICAgICAgICBkaXNwbGF5PVwiZmxleFwiXG4gICAgICAgIGp1c3RpZnlDb250ZW50PXttZXNzYWdlLnNlbGYgPyAnZmxleC1lbmQnIDogJ2ZsZXgtc3RhcnQnfVxuICAgICAgICBzdHlsZT17eyBvdmVyZmxvd1dyYXA6ICdicmVhay13b3JkJyB9fVxuICAgICAgPlxuICAgICAgICB7bWVzc2FnZS5hdmF0YXIgJiYgIW1lc3NhZ2Uuc2VsZiAmJiBDaGF0QXZhdG9yfVxuICAgICAgICA8Qm94IG1pbldpZHRoPXswfSBkaXNwbGF5PVwiZmxleFwiIGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIj5cbiAgICAgICAgICB7bWVzc2FnZS51c2VybmFtZSAmJiBDaGF0VXNlcm5hbWV9XG4gICAgICAgICAgPEJveFxuICAgICAgICAgICAgbWF4V2lkdGg9XCIxMDAlXCJcbiAgICAgICAgICAgIHB5PXsxfVxuICAgICAgICAgICAgcHg9ezJ9XG4gICAgICAgICAgICBiZ2NvbG9yPXttZXNzYWdlLnNlbGYgPyAncHJpbWFyeS5tYWluJyA6ICdiYWNrZ3JvdW5kLnBhcGVyJ31cbiAgICAgICAgICAgIGNvbG9yPXttZXNzYWdlLnNlbGYgPyAncHJpbWFyeS5jb250cmFzdFRleHQnIDogJ3RleHQucHJpbWFyeSd9XG4gICAgICAgICAgICBib3JkZXJSYWRpdXM9ezE2fVxuICAgICAgICAgICAgYm94U2hhZG93PXsyfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHttZXNzYWdlLnR5cGUgPT09ICd0ZXh0JyAmJiAoXG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJib2R5MVwiIHN0eWxlPXt7IHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcgfX0+XG4gICAgICAgICAgICAgICAge21lc3NhZ2UuY29udGVudH1cbiAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHttZXNzYWdlLnR5cGUgPT09ICd0ZXh0X2F1ZGlvJyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tmbGV4OiAnMCAxIDAlJywgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAncm93J319PlxuICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwiYm9keTFcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgb3ZlcmZsb3dXcmFwOiAnYnJlYWstd29yZCcsIHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcgfX0+XG4gICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17cGxheVNvdW5kQ29udGVudH0+XG4gICAgICAgICAgICAgICAgICA8QXVkaW9NZXNzYWdlQnV0dG9uIHsuLi5hdWRpb0J1dHRvblByb3BzfS8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHttZXNzYWdlLnR5cGUgPT09ICdqc3gnICYmIDxkaXY+e21lc3NhZ2UuY29udGVudH08L2Rpdj59XG4gICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAge3Nob3dEYXRlVGltZSAmJiBDaGF0RGF0ZX1cbiAgICAgICAgPC9Cb3g+XG4gICAgICAgIHttZXNzYWdlLmF2YXRhciAmJiBtZXNzYWdlLnNlbGYgJiYgQ2hhdEF2YXRvcn1cbiAgICAgIDwvQm94PlxuICAgIDwvR3Jvdz5cbiAgKTtcbn1cbiJdfQ==